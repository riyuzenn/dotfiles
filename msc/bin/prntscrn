#!/bin/bash

_notify() {
  local icon
  local msg
  local title
  local icon

  icon="$3"

  if [[ -z "$2" ]]; then
    msg="Screenshot was saved"
  else
    msg="$2"
  fi

  if [[ -z "$1" ]]; then
    title="Screenshot!"
  else
    title="$1"
  fi
  
  echo "$msg $title"
  
  notify-send -a "Screenshot Tool" -i "$icon" "$title" "$msg"
}
main() {
  local m="Screenshot was saved"
  local IMG="$1"
  if [[ "$1" == "snip" ]]; then
    m="Screenshot was copied to clipboard"
    IMG="$2"
  fi

  _notify "Screenshot Tool" "$m" "$IMG"
}

main $1 $2
